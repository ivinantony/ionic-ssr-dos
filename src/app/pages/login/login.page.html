<desktop-header></desktop-header>
<ion-header class="ion-no-border ion-hide-md-up">
  <ion-toolbar color="secondary">
    <ion-buttons slot="start">
      <ion-back-button
        color="light"
        defaultHref="/tabs/home"
        
      ></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-grid>
    <ion-row>
      <ion-col
        class="ion-padding"
        size-sm="12"
        size-md="4"
        size-lg="4"
        size-xl="4"
        class="wrapper"
        style="border: 1px solid rgba(var(--b6a, 219, 219, 219), 1)"
      >
        <form [formGroup]="loginGroup" (ngSubmit)="login()">
          <ion-list>
            <ion-list-header>
              <ion-label class="ion-text-center">
                <ion-text color="primary">Deal </ion-text>
                <ion-text color="dark">On Store </ion-text></ion-label
              >
            </ion-list-header>
            <ion-item color="light" class="ion-text-center input" lines="none">
              <ion-input
                required
                placeholder="Name"
                formControlName="name"
              ></ion-input>
            </ion-item>
            <ng-container *ngFor="let validation of validation_messages.name">
              <div
                class="err_msg"
                *ngIf="loginGroup.get('name').hasError(validation.type) &&
              loginGroup.get('name').dirty &&
              loginGroup.get('name').touched"
              >
                <ion-icon name="information-circle-outline"></ion-icon>
                {{ validation.message}}
              </div>
            </ng-container>

            <ion-item color="light" class="input" lines="none">
            <ion-label>Country</ion-label>
            <ion-select (ionChange)="onCountryChange($event)">   
            <ion-select-option *ngFor="let item of countries" value="{{item.dial_code}}">{{item.name}}  {{item.dial_code}}</ion-select-option>
            </ion-select>
            </ion-item>
            


            <ion-item color="light" class="ion-text-center input" lines="none">
              <ion-input
              (ionChange)="onPhoneChange($event)"
                required
                placeholder="Phone number"
                formControlName="phone"
                type="tel"
              ></ion-input>
            </ion-item>
            
            <div class="err_msg" *ngIf="errormsg">
                <ion-icon name="information-circle-outline"></ion-icon>
                {{ errormsg}}
              </div>

            <ion-item color="light" class="ion-text-center input" lines="none">
              <ion-input
                placeholder="Email"
                formControlName="email"
                type="email"
              ></ion-input>
            </ion-item>
            <ng-container *ngFor="let validation of validation_messages.email">
              <div
                class="err_msg"
                *ngIf="loginGroup.get('email').hasError(validation.type) &&
            loginGroup.get('email').dirty &&
            loginGroup.get('email').touched"
              >
                <ion-icon name="information-circle-outline"></ion-icon>
                {{ validation.message}}
              </div>
            </ng-container>
          </ion-list>
          <ion-button color="primary" type="submit" shape="round" expand="block" [disabled]="!loginGroup.valid"
            >Login</ion-button
          >
        </form>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
